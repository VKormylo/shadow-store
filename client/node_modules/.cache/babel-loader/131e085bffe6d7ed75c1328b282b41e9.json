{"ast":null,"code":"import _classCallCheck from\"C:/Users/vital/OneDrive/Desktop/ShadowStore/shadow-store/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/vital/OneDrive/Desktop/ShadowStore/shadow-store/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/vital/OneDrive/Desktop/ShadowStore/shadow-store/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/vital/OneDrive/Desktop/ShadowStore/shadow-store/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import LibraryGame from\"./LibraryGame\";import s from\"./Library.module.css\";import{withTranslation}from\"react-i18next\";import searchIcon from\"../../assets/images/loupe.svg\";import closeIcon from\"../../assets/images/close.svg\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var Library=/*#__PURE__*/function(_React$Component){_inherits(Library,_React$Component);var _super=_createSuper(Library);function Library(props){var _this;_classCallCheck(this,Library);_this=_super.call(this,props);var t=_this.props.t;_this.state={search:\"\",sorted:false,showsort:false,filtered:false,showfilter:false,filterText:t(\"library.filter.all\"),sortText:t(\"library.sort.normal\"),view:\"card\",isSearch:false};return _this;}_createClass(Library,[{key:\"showSearch\",value:function showSearch(){this.setState({isSearch:!this.state.isSearch});}},{key:\"componentDidMount\",value:function componentDidMount(){this.props.getView();}},{key:\"setSort\",value:function setSort(text){this.setState({sorted:!this.state.sorted,sortText:[text],showsort:!this.state.showsort});}},{key:\"changeView\",value:function changeView(text){this.setState({view:text});this.props.changeView(text);}},{key:\"setFilter\",value:function setFilter(text){this.setState({filtered:!this.state.filtered,filterText:[text],showfilter:!this.state.showfilter});}},{key:\"showFilter\",value:function showFilter(){this.setState({showfilter:!this.state.showfilter,filtered:!this.state.filtered});}},{key:\"showSort\",value:function showSort(){this.setState({showsort:!this.state.showsort,sorted:!this.state.sorted});}},{key:\"updateSearch\",value:function updateSearch(event){this.setState({search:event.target.value});}},{key:\"render\",value:function render(){var _this2=this;var filteredGames=this.props.storePage.games.filter(function(game){return game.gameName.toLowerCase().indexOf(_this2.state.search.toLowerCase())!==-1;});var t=this.props.t;return/*#__PURE__*/_jsxs(\"div\",{className:s.shopContent,children:[/*#__PURE__*/_jsxs(\"div\",{className:s.header,children:[/*#__PURE__*/_jsxs(\"div\",{className:s.sorting,children:[/*#__PURE__*/_jsxs(\"div\",{className:s.item,children:[/*#__PURE__*/_jsxs(\"div\",{children:[t(\"library.sort.sort\"),\":\"]}),/*#__PURE__*/_jsx(\"a\",{className:\"\".concat(s.filter,\" + \").concat(this.state.sorted?s.clicked:\"\"),onClick:this.showSort.bind(this),children:this.state.sortText}),/*#__PURE__*/_jsx(\"div\",{className:this.state.showsort?s.show:s.info,children:/*#__PURE__*/_jsxs(\"ul\",{className:s.items,children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{className:this.state.sortText==t(\"library.sort.normal\")?s.active:\"\",onClick:this.setSort.bind(this,t(\"library.sort.normal\")),children:t(\"library.sort.normal\")})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{className:this.state.sortText==t(\"library.sort.byalphabet\")?s.active:\"\",onClick:this.setSort.bind(this,t(\"library.sort.byalphabet\")),children:t(\"library.sort.byalphabet\")})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.item,children:[/*#__PURE__*/_jsxs(\"div\",{children:[t(\"library.filter.filter\"),\":\"]}),/*#__PURE__*/_jsx(\"a\",{className:\"\".concat(s.filter,\" + \").concat(this.state.filtered?s.clicked:\"\"),onClick:this.showFilter.bind(this),children:this.state.filterText}),/*#__PURE__*/_jsx(\"div\",{className:this.state.showfilter?s.show:s.info,children:/*#__PURE__*/_jsxs(\"ul\",{className:s.items,children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{className:this.state.filterText==t(\"library.filter.all\")?s.active:\"\",onClick:this.setFilter.bind(this,t(\"library.filter.all\")),children:t(\"library.filter.all\")})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{className:this.state.filterText==\"Downloaded\"?s.active:\"\",onClick:this.setFilter.bind(this,t(\"library.filter.downloaded\")),children:t(\"library.filter.downloaded\")})})]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.right,children:[/*#__PURE__*/_jsxs(\"div\",{className:s.view,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(s.item,\" \").concat(s.card,\" + \").concat(this.props.storePage.view===\"card\"?s.active:\"\"),onClick:this.changeView.bind(this,\"card\"),children:[/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"div\",{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(s.item,\" \").concat(s.string,\" + \").concat(this.props.storePage.view===\"line\"?s.active:\"\"),onClick:this.changeView.bind(this,\"line\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:s.line,children:[/*#__PURE__*/_jsx(\"div\",{className:s.firstBlock}),/*#__PURE__*/_jsx(\"div\",{className:s.lastBlock})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.line,children:[/*#__PURE__*/_jsx(\"div\",{className:s.firstBlock}),/*#__PURE__*/_jsx(\"div\",{className:s.lastBlock})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.line,children:[/*#__PURE__*/_jsx(\"div\",{className:s.firstBlock}),/*#__PURE__*/_jsx(\"div\",{className:s.lastBlock})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.search,children:[/*#__PURE__*/_jsx(\"div\",{className:s.searchIcon,children:/*#__PURE__*/_jsx(\"img\",{src:searchIcon})}),/*#__PURE__*/_jsx(\"input\",{placeholder:t(\"placeholder\"),type:\"text\",value:this.state.search,onChange:this.updateSearch.bind(this)})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.showSearch,children:[/*#__PURE__*/_jsx(\"div\",{className:s.icon,onClick:this.showSearch.bind(this),children:/*#__PURE__*/_jsx(\"img\",{src:searchIcon})}),/*#__PURE__*/_jsxs(\"div\",{className:\"\".concat(s.searchBlock,\" \").concat(this.state.isSearch?s.showed:\"\"),children:[/*#__PURE__*/_jsxs(\"div\",{className:s.search,children:[/*#__PURE__*/_jsx(\"div\",{className:s.searchIcon,children:/*#__PURE__*/_jsx(\"img\",{src:searchIcon})}),/*#__PURE__*/_jsx(\"input\",{placeholder:t(\"placeholder\"),type:\"text\",value:this.state.search,onChange:this.updateSearch.bind(this)})]}),/*#__PURE__*/_jsx(\"div\",{className:s.close,onClick:this.showSearch.bind(this),children:/*#__PURE__*/_jsx(\"img\",{src:closeIcon})})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:s.games,children:this.state.filterText==t(\"library.filter.downloaded\")?filteredGames.filter(function(add){return add.added;}).filter(function(downloaded){return downloaded.isDownloaded;}).map(function(game){return/*#__PURE__*/_jsx(LibraryGame,{lib:\"true\",view:_this2.props.storePage.view,game:game,name:game.gameName,photo:game.gamePhoto,foto:game.gamepage.foto,developer:game.developer,price:game.gamePrice,removeFromLibrary:_this2.props.removeFromLibrary,downloadGame:_this2.props.downloadGame,deleteGame:_this2.props.deleteGame},game.id);}):this.state.sortText==t(\"library.sort.byalphabet\")?filteredGames.filter(function(add){return add.added;}).sort(function(a,b){if(a.gameName.toLowerCase()<b.gameName.toLowerCase())return-1;if(a.gameName.toLowerCase()>b.gameName.toLowerCase())return 1;return 0;}).map(function(game){return/*#__PURE__*/_jsx(LibraryGame,{lib:\"true\",view:_this2.props.storePage.view,game:game,name:game.gameName,photo:game.gamePhoto,foto:game.gamepage.foto,developer:game.developer,price:game.gamePrice,removeFromLibrary:_this2.props.removeFromLibrary,downloadGame:_this2.props.downloadGame,deleteGame:_this2.props.deleteGame},game.id);}):this.state.sortText==t(\"library.sort.byalphabet\")&&this.state.filterText==t(\"library.filter.downloaded\")?filteredGames.filter(function(add){return add.added;}).filter(function(downloaded){return downloaded.isDownloaded;}).sort(function(a,b){if(a.gameName.toLowerCase()<b.gameName.toLowerCase())return-1;if(a.gameName.toLowerCase()>b.gameName.toLowerCase())return 1;return 0;}).map(function(game){return/*#__PURE__*/_jsx(LibraryGame,{lib:\"true\",view:_this2.props.storePage.view,game:game,name:game.gameName,photo:game.gamePhoto,foto:game.gamepage.foto,developer:game.developer,price:game.gamePrice,removeFromLibrary:_this2.props.removeFromLibrary,downloadGame:_this2.props.downloadGame,deleteGame:_this2.props.deleteGame},game.id);}):filteredGames.filter(function(add){return add.added;}).map(function(game){return/*#__PURE__*/_jsx(LibraryGame,{lib:\"true\",view:_this2.props.storePage.view,game:game,name:game.gameName,photo:game.gamePhoto,foto:game.gamepage.foto,developer:game.developer,price:game.gamePrice,removeFromLibrary:_this2.props.removeFromLibrary,downloadGame:_this2.props.downloadGame,deleteGame:_this2.props.deleteGame},game.id);})})})]});}}]);return Library;}(React.Component);export default withTranslation()(Library);","map":{"version":3,"sources":["C:/Users/vital/OneDrive/Desktop/ShadowStore/shadow-store/client/src/components/Library/Library.jsx"],"names":["React","LibraryGame","s","withTranslation","Library","props","t","state","search","sorted","showsort","filtered","showfilter","filterText","sortText","view","isSearch","setState","getView","text","changeView","event","target","value","filteredGames","storePage","games","filter","game","gameName","toLowerCase","indexOf","shopContent","header","sorting","item","clicked","showSort","bind","show","info","items","active","setSort","showFilter","setFilter","right","card","string","line","firstBlock","lastBlock","searchIcon","updateSearch","showSearch","icon","searchBlock","showed","close","closeIcon","add","added","downloaded","isDownloaded","map","gamePhoto","gamepage","foto","developer","gamePrice","removeFromLibrary","downloadGame","deleteGame","id","sort","a","b","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport LibraryGame from \"./LibraryGame\";\r\nimport s from \"./Library.module.css\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport searchIcon from \"../../assets/images/loupe.svg\";\r\nimport closeIcon from \"../../assets/images/close.svg\";\r\n\r\nclass Library extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    const { t } = this.props;\r\n    this.state = {\r\n      search: \"\",\r\n      sorted: false,\r\n      showsort: false,\r\n      filtered: false,\r\n      showfilter: false,\r\n      filterText: t(\"library.filter.all\"),\r\n      sortText: t(\"library.sort.normal\"),\r\n      view: \"card\",\r\n      isSearch: false,\r\n    };\r\n  }\r\n\r\n  showSearch() {\r\n    this.setState({ isSearch: !this.state.isSearch });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getView();\r\n  }\r\n\r\n  setSort(text) {\r\n    this.setState({\r\n      sorted: !this.state.sorted,\r\n      sortText: [text],\r\n      showsort: !this.state.showsort,\r\n    });\r\n  }\r\n\r\n  changeView(text) {\r\n    this.setState({ view: text });\r\n    this.props.changeView(text);\r\n  }\r\n\r\n  setFilter(text) {\r\n    this.setState({\r\n      filtered: !this.state.filtered,\r\n      filterText: [text],\r\n      showfilter: !this.state.showfilter,\r\n    });\r\n  }\r\n\r\n  showFilter() {\r\n    this.setState({\r\n      showfilter: !this.state.showfilter,\r\n      filtered: !this.state.filtered,\r\n    });\r\n  }\r\n\r\n  showSort() {\r\n    this.setState({\r\n      showsort: !this.state.showsort,\r\n      sorted: !this.state.sorted,\r\n    });\r\n  }\r\n\r\n  updateSearch(event) {\r\n    this.setState({ search: event.target.value });\r\n  }\r\n\r\n  render() {\r\n    let filteredGames = this.props.storePage.games.filter((game) => {\r\n      return (\r\n        game.gameName.toLowerCase().indexOf(this.state.search.toLowerCase()) !==\r\n        -1\r\n      );\r\n    });\r\n    const { t } = this.props;\r\n    return (\r\n      <div className={s.shopContent}>\r\n        <div className={s.header}>\r\n          <div className={s.sorting}>\r\n            <div className={s.item}>\r\n              <div>{t(\"library.sort.sort\")}:</div>\r\n              <a\r\n                className={`${s.filter} + ${\r\n                  this.state.sorted ? s.clicked : \"\"\r\n                }`}\r\n                onClick={this.showSort.bind(this)}\r\n              >\r\n                {this.state.sortText}\r\n              </a>\r\n              <div className={this.state.showsort ? s.show : s.info}>\r\n                <ul className={s.items}>\r\n                  <li>\r\n                    <a\r\n                      className={\r\n                        this.state.sortText == t(\"library.sort.normal\")\r\n                          ? s.active\r\n                          : \"\"\r\n                      }\r\n                      onClick={this.setSort.bind(\r\n                        this,\r\n                        t(\"library.sort.normal\")\r\n                      )}\r\n                    >\r\n                      {t(\"library.sort.normal\")}\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a\r\n                      className={\r\n                        this.state.sortText == t(\"library.sort.byalphabet\")\r\n                          ? s.active\r\n                          : \"\"\r\n                      }\r\n                      onClick={this.setSort.bind(\r\n                        this,\r\n                        t(\"library.sort.byalphabet\")\r\n                      )}\r\n                    >\r\n                      {t(\"library.sort.byalphabet\")}\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n            <div className={s.item}>\r\n              <div>{t(\"library.filter.filter\")}:</div>\r\n              <a\r\n                className={`${s.filter} + ${\r\n                  this.state.filtered ? s.clicked : \"\"\r\n                }`}\r\n                onClick={this.showFilter.bind(this)}\r\n              >\r\n                {this.state.filterText}\r\n              </a>\r\n              <div className={this.state.showfilter ? s.show : s.info}>\r\n                <ul className={s.items}>\r\n                  <li>\r\n                    <a\r\n                      className={\r\n                        this.state.filterText == t(\"library.filter.all\")\r\n                          ? s.active\r\n                          : \"\"\r\n                      }\r\n                      onClick={this.setFilter.bind(\r\n                        this,\r\n                        t(\"library.filter.all\")\r\n                      )}\r\n                    >\r\n                      {t(\"library.filter.all\")}\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a\r\n                      className={\r\n                        this.state.filterText == \"Downloaded\" ? s.active : \"\"\r\n                      }\r\n                      onClick={this.setFilter.bind(\r\n                        this,\r\n                        t(\"library.filter.downloaded\")\r\n                      )}\r\n                    >\r\n                      {t(\"library.filter.downloaded\")}\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className={s.right}>\r\n            <div className={s.view}>\r\n              <div\r\n                className={`${s.item} ${s.card} + ${\r\n                  this.props.storePage.view === \"card\" ? s.active : \"\"\r\n                }`}\r\n                onClick={this.changeView.bind(this, \"card\")}\r\n              >\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n              </div>\r\n              <div\r\n                className={`${s.item} ${s.string} + ${\r\n                  this.props.storePage.view === \"line\" ? s.active : \"\"\r\n                }`}\r\n                onClick={this.changeView.bind(this, \"line\")}\r\n              >\r\n                <div className={s.line}>\r\n                  <div className={s.firstBlock}></div>\r\n                  <div className={s.lastBlock}></div>\r\n                </div>\r\n                <div className={s.line}>\r\n                  <div className={s.firstBlock}></div>\r\n                  <div className={s.lastBlock}></div>\r\n                </div>\r\n                <div className={s.line}>\r\n                  <div className={s.firstBlock}></div>\r\n                  <div className={s.lastBlock}></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className={s.search}>\r\n              <div className={s.searchIcon}>\r\n                <img src={searchIcon} />\r\n              </div>\r\n              <input\r\n                placeholder={t(\"placeholder\")}\r\n                type=\"text\"\r\n                value={this.state.search}\r\n                onChange={this.updateSearch.bind(this)}\r\n              />\r\n            </div>\r\n            <div className={s.showSearch}>\r\n              <div className={s.icon} onClick={this.showSearch.bind(this)}>\r\n                <img src={searchIcon} />\r\n              </div>\r\n              <div\r\n                className={`${s.searchBlock} ${\r\n                  this.state.isSearch ? s.showed : \"\"\r\n                }`}\r\n              >\r\n                <div className={s.search}>\r\n                  <div className={s.searchIcon}>\r\n                    <img src={searchIcon} />\r\n                  </div>\r\n                  <input\r\n                    placeholder={t(\"placeholder\")}\r\n                    type=\"text\"\r\n                    value={this.state.search}\r\n                    onChange={this.updateSearch.bind(this)}\r\n                  />\r\n                </div>\r\n                <div className={s.close} onClick={this.showSearch.bind(this)}>\r\n                  <img src={closeIcon} />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <div className={s.games}>\r\n            {this.state.filterText == t(\"library.filter.downloaded\")\r\n              ? filteredGames\r\n                  .filter((add) => add.added)\r\n                  .filter((downloaded) => downloaded.isDownloaded)\r\n                  .map((game) => {\r\n                    return (\r\n                      <LibraryGame\r\n                        lib=\"true\"\r\n                        view={this.props.storePage.view}\r\n                        game={game}\r\n                        key={game.id}\r\n                        name={game.gameName}\r\n                        photo={game.gamePhoto}\r\n                        foto={game.gamepage.foto}\r\n                        developer={game.developer}\r\n                        price={game.gamePrice}\r\n                        removeFromLibrary={this.props.removeFromLibrary}\r\n                        downloadGame={this.props.downloadGame}\r\n                        deleteGame={this.props.deleteGame}\r\n                      />\r\n                    );\r\n                  })\r\n              : this.state.sortText == t(\"library.sort.byalphabet\")\r\n              ? filteredGames\r\n                  .filter((add) => add.added)\r\n                  .sort(function (a, b) {\r\n                    if (a.gameName.toLowerCase() < b.gameName.toLowerCase())\r\n                      return -1;\r\n                    if (a.gameName.toLowerCase() > b.gameName.toLowerCase())\r\n                      return 1;\r\n                    return 0;\r\n                  })\r\n                  .map((game) => {\r\n                    return (\r\n                      <LibraryGame\r\n                        lib=\"true\"\r\n                        view={this.props.storePage.view}\r\n                        game={game}\r\n                        key={game.id}\r\n                        name={game.gameName}\r\n                        photo={game.gamePhoto}\r\n                        foto={game.gamepage.foto}\r\n                        developer={game.developer}\r\n                        price={game.gamePrice}\r\n                        removeFromLibrary={this.props.removeFromLibrary}\r\n                        downloadGame={this.props.downloadGame}\r\n                        deleteGame={this.props.deleteGame}\r\n                      />\r\n                    );\r\n                  })\r\n              : this.state.sortText == t(\"library.sort.byalphabet\") &&\r\n                this.state.filterText == t(\"library.filter.downloaded\")\r\n              ? filteredGames\r\n                  .filter((add) => add.added)\r\n                  .filter((downloaded) => downloaded.isDownloaded)\r\n                  .sort(function (a, b) {\r\n                    if (a.gameName.toLowerCase() < b.gameName.toLowerCase())\r\n                      return -1;\r\n                    if (a.gameName.toLowerCase() > b.gameName.toLowerCase())\r\n                      return 1;\r\n                    return 0;\r\n                  })\r\n                  .map((game) => {\r\n                    return (\r\n                      <LibraryGame\r\n                        lib=\"true\"\r\n                        view={this.props.storePage.view}\r\n                        game={game}\r\n                        key={game.id}\r\n                        name={game.gameName}\r\n                        photo={game.gamePhoto}\r\n                        foto={game.gamepage.foto}\r\n                        developer={game.developer}\r\n                        price={game.gamePrice}\r\n                        removeFromLibrary={this.props.removeFromLibrary}\r\n                        downloadGame={this.props.downloadGame}\r\n                        deleteGame={this.props.deleteGame}\r\n                      />\r\n                    );\r\n                  })\r\n              : filteredGames\r\n                  .filter((add) => add.added)\r\n                  .map((game) => {\r\n                    return (\r\n                      <LibraryGame\r\n                        lib=\"true\"\r\n                        view={this.props.storePage.view}\r\n                        game={game}\r\n                        key={game.id}\r\n                        name={game.gameName}\r\n                        photo={game.gamePhoto}\r\n                        foto={game.gamepage.foto}\r\n                        developer={game.developer}\r\n                        price={game.gamePrice}\r\n                        removeFromLibrary={this.props.removeFromLibrary}\r\n                        downloadGame={this.props.downloadGame}\r\n                        deleteGame={this.props.deleteGame}\r\n                      />\r\n                    );\r\n                  })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTranslation()(Library);\r\n"]},"metadata":{},"sourceType":"module"}