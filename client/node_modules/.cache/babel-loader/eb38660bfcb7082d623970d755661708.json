{"ast":null,"code":"import { libraryAPI, shopAPI, wishlistAPI } from \"../api/api\";\nimport { updateObjectInArray } from \"../utils/object-helpers\";\nconst SET_STORE = \"SET_STORE\";\nconst SET_STATUS = \"SET_STATUS\";\nconst SET_IS_WISHLIST_EMPTY = \"SET_IS_WISHLIST_EMPTY\";\nconst SET_VIEW = \"SET_VIEW\";\nconst ADD_TO_LIBRARY = \"ADD_TO_LIBRARY\";\nconst REMOVE_FROM_LIBRARY = \"REMOVE_FROM_LIBRARY\";\nconst ADD_TO_WISHLIST = \"ADD_TO_WISHLIST\";\nconst REMOVE_FROM_WISHLIST = \"REMOVE_FROM_WISHLIST\";\nconst TOGGLE_IS_LOADING = \"TOGGLE_IS_LOADING\";\nlet initialState = {\n  games: [],\n  isWishlistEmpty: undefined,\n  isLoading: false,\n  view: undefined,\n  status: undefined\n};\n\nconst storeReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_STORE:\n      return { ...state,\n        games: [...action.games]\n      };\n\n    case SET_STATUS:\n      return { ...state,\n        status: action.status\n      };\n\n    case SET_IS_WISHLIST_EMPTY:\n      return { ...state,\n        isWishlistEmpty: action.isWishlistEmpty\n      };\n\n    case SET_VIEW:\n      return { ...state,\n        view: action.view\n      };\n\n    case ADD_TO_LIBRARY:\n      return { ...state,\n        games: updateObjectInArray(state.games, action.gameId, \"id\", {\n          added: true\n        })\n      };\n\n    case REMOVE_FROM_LIBRARY:\n      return { ...state,\n        games: updateObjectInArray(state.games, action.gameId, \"id\", {\n          added: false\n        })\n      };\n\n    case ADD_TO_WISHLIST:\n      return { ...state,\n        isWishlistEmpty: false,\n        games: updateObjectInArray(state.games, action.gameId, \"id\", {\n          inWishlist: true\n        })\n      };\n\n    case REMOVE_FROM_WISHLIST:\n      return { ...state,\n        games: updateObjectInArray(state.games, action.gameId, \"id\", {\n          inWishlist: false\n        })\n      };\n\n    case TOGGLE_IS_LOADING:\n      {\n        return { ...state,\n          isLoading: action.isLoading\n        };\n      }\n\n    default:\n      return state;\n  }\n}; // ---------------\n// ACTION CREATORS\n// ---------------\n\n\nexport const setStore = games => ({\n  type: SET_STORE,\n  games\n});\nexport const setStatus = status => ({\n  type: SET_STATUS,\n  status\n});\nexport const setView = view => ({\n  type: SET_VIEW,\n  view\n});\nexport const setIsWishlistEmpty = isWishlistEmpty => ({\n  type: SET_IS_WISHLIST_EMPTY,\n  isWishlistEmpty\n});\nexport const addToLibraryAC = gameId => ({\n  type: ADD_TO_LIBRARY,\n  gameId\n});\nexport const removeFromLibraryAC = gameId => ({\n  type: REMOVE_FROM_LIBRARY,\n  gameId\n});\nexport const addToWishlistAC = gameId => ({\n  type: ADD_TO_WISHLIST,\n  gameId\n});\nexport const removeFromWishlistAC = gameId => ({\n  type: REMOVE_FROM_WISHLIST,\n  gameId\n});\nexport const toggleIsLoading = isLoading => ({\n  type: TOGGLE_IS_LOADING,\n  isLoading\n}); // -----------------\n// GET ALL GAMES API\n// -----------------\n\nexport const getStore = () => async dispatch => {\n  dispatch(toggleIsLoading(true));\n  shopAPI.getStore().then(data => {\n    dispatch(setStore(data.games));\n    dispatch(setIsWishlistEmpty(data.isWishlistEmpty));\n    dispatch(toggleIsLoading(false));\n    console.log(data.games);\n  });\n}; // ---------------\n// STORE API CALLS\n// ---------------\n\nexport const getStatus = () => async dispatch => {\n  dispatch(toggleIsLoading(true));\n  const response = await shopAPI.getStatus();\n}; // -----------------\n// LIBRARY API CALLS\n// -----------------\n\nexport const addToLibrary = gameId => async dispatch => {\n  dispatch(toggleIsLoading(true));\n  dispatch(addToLibraryAC(gameId));\n  const response = await libraryAPI.addToLibrary(gameId);\n  dispatch(setStore(response.data.games));\n  dispatch(toggleIsLoading(false));\n  console.log(response.data.games);\n};\nexport const removeFromLibrary = gameId => async dispatch => {\n  dispatch(toggleIsLoading(true));\n  dispatch(removeFromLibraryAC(gameId));\n  const response = await libraryAPI.removeFromLibrary(gameId);\n  dispatch(setStore(response.data.games));\n  dispatch(toggleIsLoading(false));\n  console.log(response.data.games);\n};\nexport const downloadGame = gameId => async dispatch => {\n  dispatch(toggleIsLoading(true));\n  const response = await libraryAPI.downloadGame(gameId);\n  dispatch(setStore(response.data.games));\n  dispatch(toggleIsLoading(false));\n  console.log(response.data.games);\n};\nexport const deleteGame = gameId => async dispatch => {\n  dispatch(toggleIsLoading(true));\n  const response = await libraryAPI.deleteGame(gameId);\n  dispatch(setStore(response.data.games));\n  dispatch(toggleIsLoading(false));\n  console.log(response.data.games);\n};\nexport const getView = () => async dispatch => {\n  const response = await libraryAPI.getView();\n  dispatch(setView(response.data.view));\n};\nexport const changeView = view => async dispatch => {\n  const response = await libraryAPI.changeView(view);\n  dispatch(setView(response.data.view));\n}; // ------------------\n// WISHLIST API CALLS\n// ------------------\n\nexport const addToWishlist = gameId => async dispatch => {\n  dispatch(toggleIsLoading(true));\n  dispatch(addToWishlistAC(gameId));\n  const response = await wishlistAPI.addToWishlist(gameId);\n  dispatch(setStore(response.data.games));\n  dispatch(setIsWishlistEmpty(response.data.isWishlistEmpty));\n  dispatch(toggleIsLoading(false));\n  console.log(response.data.isWishlistEmpty);\n};\nexport const removeFromWishlist = gameId => async dispatch => {\n  dispatch(toggleIsLoading(true));\n  dispatch(removeFromWishlistAC(gameId));\n  const response = await wishlistAPI.removeFromWishlist(gameId);\n  dispatch(setStore(response.data.games));\n  dispatch(setIsWishlistEmpty(response.data.isWishlistEmpty));\n  dispatch(toggleIsLoading(false));\n  console.log(response.data.games);\n};\nexport default storeReducer;","map":{"version":3,"sources":["C:/Users/vital/OneDrive/Desktop/ShadowStore/shadow-store/src/redux/store-reducer.js"],"names":["libraryAPI","shopAPI","wishlistAPI","updateObjectInArray","SET_STORE","SET_STATUS","SET_IS_WISHLIST_EMPTY","SET_VIEW","ADD_TO_LIBRARY","REMOVE_FROM_LIBRARY","ADD_TO_WISHLIST","REMOVE_FROM_WISHLIST","TOGGLE_IS_LOADING","initialState","games","isWishlistEmpty","undefined","isLoading","view","status","storeReducer","state","action","type","gameId","added","inWishlist","setStore","setStatus","setView","setIsWishlistEmpty","addToLibraryAC","removeFromLibraryAC","addToWishlistAC","removeFromWishlistAC","toggleIsLoading","getStore","dispatch","then","data","console","log","getStatus","response","addToLibrary","removeFromLibrary","downloadGame","deleteGame","getView","changeView","addToWishlist","removeFromWishlist"],"mappings":"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","sourcesContent":["import { libraryAPI, shopAPI, wishlistAPI } from \"../api/api\";\r\nimport { updateObjectInArray } from \"../utils/object-helpers\";\r\n\r\nconst SET_STORE = \"SET_STORE\";\r\nconst SET_STATUS = \"SET_STATUS\";\r\nconst SET_IS_WISHLIST_EMPTY = \"SET_IS_WISHLIST_EMPTY\";\r\nconst SET_VIEW = \"SET_VIEW\";\r\nconst ADD_TO_LIBRARY = \"ADD_TO_LIBRARY\";\r\nconst REMOVE_FROM_LIBRARY = \"REMOVE_FROM_LIBRARY\";\r\nconst ADD_TO_WISHLIST = \"ADD_TO_WISHLIST\";\r\nconst REMOVE_FROM_WISHLIST = \"REMOVE_FROM_WISHLIST\";\r\nconst TOGGLE_IS_LOADING = \"TOGGLE_IS_LOADING\";\r\n\r\nlet initialState = {\r\n  games: [],\r\n  isWishlistEmpty: undefined,\r\n  isLoading: false,\r\n  view: undefined,\r\n  status: undefined\r\n};\r\n\r\nconst storeReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case SET_STORE:\r\n      return { ...state, games: [...action.games] };\r\n    case SET_STATUS:\r\n      return { ...state, status: action.status };\r\n    case SET_IS_WISHLIST_EMPTY:\r\n      return { ...state, isWishlistEmpty: action.isWishlistEmpty };\r\n    case SET_VIEW:\r\n      return { ...state, view: action.view };\r\n    case ADD_TO_LIBRARY:\r\n      return {\r\n        ...state,\r\n        games: updateObjectInArray(state.games, action.gameId, \"id\", {\r\n          added: true,\r\n        }),\r\n      };\r\n    case REMOVE_FROM_LIBRARY:\r\n      return {\r\n        ...state,\r\n        games: updateObjectInArray(state.games, action.gameId, \"id\", {\r\n          added: false,\r\n        }),\r\n      };\r\n    case ADD_TO_WISHLIST:\r\n      return {\r\n        ...state,\r\n        isWishlistEmpty: false,\r\n        games: updateObjectInArray(state.games, action.gameId, \"id\", {\r\n          inWishlist: true,\r\n        }),\r\n      };\r\n    case REMOVE_FROM_WISHLIST:\r\n      return {\r\n        ...state,\r\n        games: updateObjectInArray(state.games, action.gameId, \"id\", {\r\n          inWishlist: false,\r\n        }),\r\n      };\r\n    case TOGGLE_IS_LOADING: {\r\n      return { ...state, isLoading: action.isLoading };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n// ---------------\r\n// ACTION CREATORS\r\n// ---------------\r\n\r\nexport const setStore = (games) => ({ type: SET_STORE, games });\r\n\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status });\r\n\r\nexport const setView = (view) => ({ type: SET_VIEW, view });\r\n\r\nexport const setIsWishlistEmpty = (isWishlistEmpty) => ({\r\n  type: SET_IS_WISHLIST_EMPTY,\r\n  isWishlistEmpty,\r\n});\r\n\r\nexport const addToLibraryAC = (gameId) => ({\r\n  type: ADD_TO_LIBRARY,\r\n  gameId,\r\n});\r\n\r\nexport const removeFromLibraryAC = (gameId) => ({\r\n  type: REMOVE_FROM_LIBRARY,\r\n  gameId,\r\n});\r\n\r\nexport const addToWishlistAC = (gameId) => ({\r\n  type: ADD_TO_WISHLIST,\r\n  gameId,\r\n});\r\n\r\nexport const removeFromWishlistAC = (gameId) => ({\r\n  type: REMOVE_FROM_WISHLIST,\r\n  gameId,\r\n});\r\n\r\nexport const toggleIsLoading = (isLoading) => ({\r\n  type: TOGGLE_IS_LOADING,\r\n  isLoading,\r\n});\r\n\r\n// -----------------\r\n// GET ALL GAMES API\r\n// -----------------\r\n\r\nexport const getStore = () => async (dispatch) => {\r\n  dispatch(toggleIsLoading(true));\r\n  shopAPI.getStore().then((data) => {\r\n    dispatch(setStore(data.games));\r\n    dispatch(setIsWishlistEmpty(data.isWishlistEmpty));\r\n    dispatch(toggleIsLoading(false));\r\n    console.log(data.games);\r\n  });\r\n};\r\n\r\n// ---------------\r\n// STORE API CALLS\r\n// ---------------\r\n\r\nexport const getStatus = () => async (dispatch) => {\r\n  dispatch(toggleIsLoading(true));\r\n  const response = await shopAPI.getStatus();\r\n};\r\n\r\n// -----------------\r\n// LIBRARY API CALLS\r\n// -----------------\r\n\r\nexport const addToLibrary = (gameId) => async (dispatch) => {\r\n  dispatch(toggleIsLoading(true));\r\n  dispatch(addToLibraryAC(gameId));\r\n  const response = await libraryAPI.addToLibrary(gameId);\r\n  dispatch(setStore(response.data.games));\r\n  dispatch(toggleIsLoading(false));\r\n  console.log(response.data.games);\r\n};\r\n\r\nexport const removeFromLibrary = (gameId) => async (dispatch) => {\r\n  dispatch(toggleIsLoading(true));\r\n  dispatch(removeFromLibraryAC(gameId));\r\n  const response = await libraryAPI.removeFromLibrary(gameId);\r\n  dispatch(setStore(response.data.games));\r\n  dispatch(toggleIsLoading(false));\r\n  console.log(response.data.games);\r\n};\r\n\r\nexport const downloadGame = (gameId) => async (dispatch) => {\r\n  dispatch(toggleIsLoading(true));\r\n  const response = await libraryAPI.downloadGame(gameId);\r\n  dispatch(setStore(response.data.games));\r\n  dispatch(toggleIsLoading(false));\r\n  console.log(response.data.games);\r\n};\r\n\r\nexport const deleteGame = (gameId) => async (dispatch) => {\r\n  dispatch(toggleIsLoading(true));\r\n  const response = await libraryAPI.deleteGame(gameId);\r\n  dispatch(setStore(response.data.games));\r\n  dispatch(toggleIsLoading(false));\r\n  console.log(response.data.games);\r\n};\r\n\r\nexport const getView = () => async (dispatch) => {\r\n  const response = await libraryAPI.getView();\r\n  dispatch(setView(response.data.view));\r\n};\r\n\r\nexport const changeView = (view) => async (dispatch) => {\r\n  const response = await libraryAPI.changeView(view);\r\n  dispatch(setView(response.data.view));\r\n};\r\n\r\n// ------------------\r\n// WISHLIST API CALLS\r\n// ------------------\r\n\r\nexport const addToWishlist = (gameId) => async (dispatch) => {\r\n  dispatch(toggleIsLoading(true));\r\n  dispatch(addToWishlistAC(gameId));\r\n  const response = await wishlistAPI.addToWishlist(gameId);\r\n  dispatch(setStore(response.data.games));\r\n  dispatch(setIsWishlistEmpty(response.data.isWishlistEmpty));\r\n  dispatch(toggleIsLoading(false));\r\n  console.log(response.data.isWishlistEmpty);\r\n};\r\n\r\nexport const removeFromWishlist = (gameId) => async (dispatch) => {\r\n  dispatch(toggleIsLoading(true));\r\n  dispatch(removeFromWishlistAC(gameId));\r\n  const response = await wishlistAPI.removeFromWishlist(gameId);\r\n  dispatch(setStore(response.data.games));\r\n  dispatch(setIsWishlistEmpty(response.data.isWishlistEmpty));\r\n  dispatch(toggleIsLoading(false));\r\n  console.log(response.data.games);\r\n};\r\n\r\nexport default storeReducer;\r\n"]},"metadata":{},"sourceType":"module"}